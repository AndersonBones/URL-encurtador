<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>URL encurtada</title>

        <link rel="icon" type="image/png" href="/images/pngegg.png"/>

        <link rel="stylesheet" href="/stylesheets/style.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">

    </head>
    <body>

        <div class="container d-flex flex-column justify-content-center align-items-center">
            <%- include('../partials/logo'); %>
            
            <div class="d-flex flex-column align-content-start row shortnerUrl text-center mt-5">
                <div class="infoResult text-center ">
                    <h2>Sua URL encurtada</h2>
                    <p>Copie o link encurtado e compartilhe em mensagens, textos, publicações, sites e outros locais.</p>
                </div>
                
                <div class="result-form d-flex justify-content-center mt-4">
                    <input class="text-center" type="text" id="shortnerURL" value="<%=shortnerUrl%>" >
                    <button onclick="CopyUrl();" class="btn-pri btn btn-primary" id="clipboard-btn" type="submit"><i style="font-size: 1.3rem;" class="bi bi-clipboard"></i></button>
                </div>

                <div class="result-info mt-4">
                    <p class="mb-2">URL Longa: <a href="<%=url%>"><%=url%></a></p>

                    <p>Acompanhe o <a href="<%=code%>/stats">total de cliques</a> em tempo real da sua URL encurtada.</p>
                </div>
            </div>
        </div>

        <%-include("../partials/footer"); %>

        <script>
            function CopyUrl(){
                 // Get the text field
                var copyText = document.getElementById("shortnerURL");

                // Select the text field
                copyText.select();
                copyText.setSelectionRange(0, 99999); // For mobile devices

                // Copy the text inside the text field
                navigator.clipboard.writeText(copyText.value);

                // Alert the copied text
                document.querySelector("#clipboard-btn").innerHTML = '<i style="font-size: 1.3rem;" class="bi bi-clipboard-check"></i>'
            }
        </script>
        
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
    </body>
</html>